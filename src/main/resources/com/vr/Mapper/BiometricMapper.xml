<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">    

<mapper namespace="com.vr.Mapper.BiometricMapper">

	<insert id = "babyinsert">
		insert into bt(bname, bage, bgender, mname, fname, mnumber, fnumber, bimage) 
		values(#{bname},#{bage},#{bgender},#{mname},#{fname},#{mnumber},#{fnumber},#{bimage});
	</insert>
	
	<select id="babylist" resultType="com.vr.Model.BiometricDTO">
		select * from bt302;
	</select>
	
	<select id="babydetail" resultType="com.vr.Model.BiometricDTO">
		select * from bt where bno = #{bno};
	</select>
	
	<select id="baby_room_sel" resultType="com.vr.Model.BiometricDTO">
		select * from bt where bname =#{bname} and bno = #{bno}
	</select>
	
	<!--  302호 입원 -->
	<insert id="baby_room_in">
		insert into bt302(bno, bname, bage, bgender, mname, fname, mnumber, fnumber, bimage) 
		values(#{bno},#{bname},#{bage},#{bgender},#{mname},#{fname},#{mnumber},#{fnumber},#{bimage});
	</insert>
	
	<!--  등록되어있지 않은 리스트 -->
	<select id="bt302" resultType="com.vr.Model.BiometricDTO">
		SELECT * FROM bt WHERE bt.bname NOT IN(select bname from bt302);
	</select>
	
	<!--  퇴원 -->
	<delete id="baby_room_del">
	delete from bt302 where bno=#{bno};
	</delete>
	
	<!--  중복 등록 확인 -->
	<select id="baby_room_Overlapping" resultType="int">
	select count(*) from bt302 where bname= #{bname} and bno= #{bno} 
	</select>
	
</mapper>